'''å»ºä¸€å€‹åç‚ºlon1çš„æ•¸çµ„ï¼Œå¤§å°ç‚º721*1440ã€‚å…¶ä¸­ï¼Œæ¯ä¸€è¡Œçš„å€¼èˆ‡çµ¦å®šçš„lonç›¸åŒã€‚å¦‚å³åœ–æ‰€ç¤ºã€‚'''
import numpy as np
np.set_printoptions(suppress=True)
x = np.linspace(0,359.75,endpoint=True,num=1440)
y = np.arange(721)
x,y= np.meshgrid(x, y)
print(x)
np.save('lon.npy',x)


'''å»ºä¸€å€‹åç‚ºlat1çš„æ•¸çµ„ï¼Œå¤§å°ç‚º721*1440ã€‚å…¶ä¸­ï¼Œæ¯ä¸€åˆ—çš„å€¼èˆ‡çµ¦å®šçš„latç›¸åŒã€‚å¦‚å³åœ–æ‰€ç¤ºã€‚'''
import numpy as np
y = np.linspace(90,-90,endpoint=True,num=721)
# y = np.load("lat.npy")
x = np.arange(1440)
x,y= np.meshgrid(x, y)
print(y)
np.save("lat.npy",y)


# '''æ‰¾å‡ºt0ä¸­çš„æœ€å¤§å€¼çš„ä½ç½®indexï¼ˆæç¤ºï¼šnp.where()ï¼‰å’Œæ•¸æ“šã€‚
# ä¾‹å¦‚å³åœ–ã€‚å¯¦éš›ç­”æ¡ˆçš„æ•¸å€¼èˆ‡å³åœ–ä¸åŒã€‚'''
import numpy as np
t0 = np.load("t0.npy")
max = np.max(t0)
index = np.where(t0==np.max(t0))
print(max)
print(index)


import numpy as np
t0 = np.load("t0.npy")
index = np.where(t0==np.max(t0))
lon = np.load("lon.npy")
print(lon[index[0],index[1]])
lat = np.load("lat.npy")
print(lat[index[0],index[1]])
print("ç»çº¬åº¦å¯¹åº”çš„åœ°æ–¹æ˜¯ï¼š çº³ç±³æ¯”äºš")


'''u0å’Œv0éƒ½æ˜¯721*1440å¤§å°çš„æ•¸çµ„ã€‚
u0ä»£è¡¨æ²¿ç·¯åº¦çš„é¢¨å¤§å°ï¼Œå‘æ±ç‚ºæ­£ï¼Œå³è¥¿é¢¨ç‚ºæ­£å€¼ã€‚
 v0ä»£è¡¨æ²¿ç¶“åº¦çš„é¢¨å¤§å°ï¼Œå‘åŒ—ç‚ºæ­£ï¼Œå³å—é¢¨ç‚ºæ­£å€¼ã€‚
æ±‚ç¸½é¢¨wind0ï¼Œç¸½é¢¨=âˆš(ğ‘¢0^2+ğ‘£0^2 )
'''
import numpy as np
u0 = np.load("u0.npy")
v0 = np.load("v0.npy")
win0 = np.sqrt(np.square(u0)+np.square(v0))
np.save("wind0.npy",win0)
print(win0)


'''wind0>=15çš„åœ°æ–¹ï¼Œt0å¹³å‡å€¼æ˜¯å¤šå°‘ã€‚
10<=wind0<15çš„åœ°æ–¹ï¼Œt0å¹³å‡å€¼æ˜¯å¤šå°‘ã€‚
wind0<10çš„åœ°æ–¹ï¼Œt0å¹³å‡å€¼æ˜¯å¤šå°‘ã€‚
wind0<5çš„åœ°æ–¹ï¼Œt0å¹³å‡å€¼æ˜¯å¤šå°‘ã€‚
'''
import  numpy as np
win0 = np.load('wind0.npy')
win1 = np.where(win0>=15)
win2 = np.where(np.clip(win0,10,14.999999999999999))
win3 = np.where(win0<10)
win4 = np.where(win0<5)
t0 = np.load('t0.npy')
mean1 = t0[win1[0],win1[1]].mean()
mean2 = t0[win2[0],win2[1]].mean()
mean3 = t0[win3[0],win3[1]].mean()
mean4 = t0[win4[0],win4[1]].mean()
print(mean1,mean2,mean3,mean4)


"""æ±‚lat1>20çš„åœ°æ–¹çš„t0æœ€å¤§å€¼ã€æœ€å°å€¼å’Œå¹³å‡å€¼ã€‚
æ±‚lat1<-20çš„åœ°æ–¹çš„t0æœ€å¤§å€¼ã€æœ€å°å€¼å’Œå¹³å‡å€¼ã€‚"""
import numpy as np
lat1 = np.load("lat.npy")
lat2 = np.where(lat1>20)
lat3 = np.where(lat1<-20)
t0 = np.load("t0.npy")
mean1 = t0[lat2[0],lat2[1]].mean()#>20
max1 = t0[lat2[0],lat2[1]].max()
min1 = t0[lat2[0],lat2[1]].min()
mean2 = t0[lat3[0],lat3[1]].mean()#<-20
max2 = t0[lat3[0],lat3[1]].max()
min2 = t0[lat3[0],lat3[1]].min()
print(mean1,max1,min1,mean2,max2,min2)

"""æ˜¥ç§‹"""


'''zå’Œwéƒ½æ˜¯ä¸‰ç¶­æ•¸çµ„ï¼Œ4*720*1440ã€‚
èˆ‡t0, u0, v0ç›¸ä¼¼ï¼Œç¬¬1ç¶­å¤§å°ç‚º720ï¼Œå°æ‡‰ç·¯åº¦ã€‚ç¬¬2ç¶­å¤§å°ç‚º1440ï¼Œå°æ‡‰ç¶“åº¦ã€‚
ç¬¬0ç¶­å¤§å°ç‚º4ï¼Œå°æ‡‰é«˜åº¦ã€‚
zä»£è¡¨æµ·æ‹”ï¼Œzé™¤ä»¥9.80661å¯ä»¥å¾—åˆ°ä»¥ç±³mç‚ºå–®ä½çš„é«˜åº¦å€¼deltazã€‚å¦‚10ç±³ã€20ç±³ã€‚
æ±‚æœ€ä¸Šå±¤å’Œæœ€ä¸‹å±¤çš„é«˜åº¦å·®ï¼Œä»¥ç±³ç‚ºå–®ä½ã€‚æç¤ºï¼šz[0,â€¦]-z[-1,â€¦]
'''
import numpy as np
z = np.load('z.npy')
high = z/9.80661
print(high[0,...]-high[-1,...])


'''æ±‚wæ•¸çµ„åœ¨ç¬¬0ç¶­ä¸Šï¼Œå…©å…©ä¹‹é–“çš„å·®çš„çµ¶å°å€¼absã€‚
æç¤ºï¼š
å…©å…©ä¹‹é–“çš„å·® = w[:-1,â€¦]-w[1:,â€¦]
absæœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Ÿ
å®ƒæ‰€è™•çš„ç¶“ç·¯åº¦æ˜¯å¤šå°‘ï¼Ÿé€™å€‹ç¶“ç·¯åº¦å°æ‡‰å“ªå€‹åœ°æ–¹ï¼Ÿ
https://www.qvdv.com/tools/qvdv-coordinate.html
'''
import numpy as np

w = np.load("w.npy")
w1 = np.abs(w[:-1,...]-w[1:,...])
print(np.max(w1))
absw = np.where(w1 == np.max(w1))
lat = np.load("lat.npy")
lon = np.load("lon.npy")
lat1 = lat[absw[1],absw[2]]
lon1 = lon[absw[1],absw[2]]
print(lon1,lat1)
print("åœ¨åŒ—æ–¹çš„æŸä¸€ç‰‡æµ·")


